import{a as n,b as t,c as r,d as e,e as a,f as i}from"./chunk-6e0c6752.js";import{a as u,b as o,c}from"./chunk-1767601e.js";function l(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}var s,f,h=(1===(s=l).length&&(f=s,s=function(n,t){return l(f(n),t)}),{left:function(n,t,r,e){for(null==r&&(r=0),null==e&&(e=n.length);r<e;){var a=r+e>>>1;s(n[a],t)<0?r=a+1:e=a}return r},right:function(n,t,r,e){for(null==r&&(r=0),null==e&&(e=n.length);r<e;){var a=r+e>>>1;s(n[a],t)>0?e=a:r=a+1}return r}}).right,p=Math.sqrt(50),g=Math.sqrt(10),v=Math.sqrt(2);function d(n,t,r){var e=(t-n)/Math.max(0,r),a=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,a);return a>=0?(i>=p?10:i>=g?5:i>=v?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=p?10:i>=g?5:i>=v?2:1)}function m(n,t){var r,e,a=n.length,i=-1;if(null==t){for(;++i<a;)if(null!=(r=n[i])&&r>=r)for(e=r;++i<a;)null!=(r=n[i])&&r>e&&(e=r)}else for(;++i<a;)if(null!=(r=t(n[i],i,n))&&r>=r)for(e=r;++i<a;)null!=(r=t(n[i],i,n))&&r>e&&(e=r);return e}function M(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function y(){}function k(n,t){var r=new y;if(n instanceof y)n.each(function(n,t){r.set(t,n)});else if(Array.isArray(n)){var e,a=-1,i=n.length;if(null==t)for(;++a<i;)r.set(a,n[a]);else for(;++a<i;)r.set(t(e=n[a],a,n),e)}else if(n)for(var u in n)r.set(u,n[u]);return r}function w(){}y.prototype=k.prototype={constructor:y,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var x=k.prototype;w.prototype=function(n,t){var r=new w;if(n instanceof w)n.each(function(n){r.add(n)});else if(n){var e=-1,a=n.length;if(null==t)for(;++e<a;)r.add(n[e]);else for(;++e<a;)r.add(t(n[e],e,n))}return r}.prototype={constructor:w,has:x.has,add:function(n){return this["$"+(n+="")]=n,this},remove:x.remove,clear:x.clear,values:x.keys,size:x.size,empty:x.empty,each:x.each};var N=Array.prototype,b=N.map,A=N.slice,$={name:"implicit"};function z(){var n=k(),t=[],r=[],e=$;function a(a){var i=a+"",u=n.get(i);if(!u){if(e!==$)return e;n.set(i,u=t.push(a))}return r[(u-1)%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],n=k();for(var e,i,u=-1,o=r.length;++u<o;)n.has(i=(e=r[u])+"")||n.set(i,t.push(e));return a},a.range=function(n){return arguments.length?(r=A.call(n),a):r.slice()},a.unknown=function(n){return arguments.length?(e=n,a):e},a.copy=function(){return z(t,r).unknown(e)},M.apply(a,arguments),a}function F(){var n,t,r=z().unknown(void 0),e=r.domain,a=r.range,i=[0,1],u=!1,o=0,c=0,l=.5;function s(){var r=e().length,s=i[1]<i[0],f=i[s-0],h=i[1-s];n=(h-f)/Math.max(1,r-o+2*c),u&&(n=Math.floor(n)),f+=(h-f-n*(r-o))*l,t=n*(1-o),u&&(f=Math.round(f),t=Math.round(t));var p=function(n,t,r){n=+n,t=+t,r=(a=arguments.length)<2?(t=n,n=0,1):a<3?1:+r;for(var e=-1,a=0|Math.max(0,Math.ceil((t-n)/r)),i=new Array(a);++e<a;)i[e]=n+e*r;return i}(r).map(function(t){return f+n*t});return a(s?p.reverse():p)}return delete r.unknown,r.domain=function(n){return arguments.length?(e(n),s()):e()},r.range=function(n){return arguments.length?(i=[+n[0],+n[1]],s()):i.slice()},r.rangeRound=function(n){return i=[+n[0],+n[1]],u=!0,s()},r.bandwidth=function(){return t},r.step=function(){return n},r.round=function(n){return arguments.length?(u=!!n,s()):u},r.padding=function(n){return arguments.length?(o=Math.min(1,c=+n),s()):o},r.paddingInner=function(n){return arguments.length?(o=Math.min(1,n),s()):o},r.paddingOuter=function(n){return arguments.length?(c=+n,s()):c},r.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),s()):l},r.copy=function(){return F(e(),i).round(u).paddingInner(o).paddingOuter(c).align(l)},M.apply(s(),arguments)}function _(n){return+n}var V=[0,1];function H(n){return n}function q(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function C(n){var t,r=n[0],e=n[n.length-1];return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function I(n,t,r){var e=n[0],a=n[1],i=t[0],u=t[1];return a<e?(e=q(a,e),i=r(u,i)):(e=q(e,a),i=r(i,u)),function(n){return i(e(n))}}function O(n,t,r){var e=Math.min(n.length,t.length)-1,a=new Array(e),i=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)a[u]=q(n[u],n[u+1]),i[u]=r(t[u],t[u+1]);return function(t){var r=h(n,t,1,e)-1;return i[r](a[r](t))}}function S(u){var o=u.domain;return u.ticks=function(n){var t=o();return function(n,t,r){var e,a,i,u,o=-1;if(r=+r,(n=+n)==(t=+t)&&r>0)return[n];if((e=t<n)&&(a=n,n=t,t=a),0===(u=d(n,t,r))||!isFinite(u))return[];if(u>0)for(n=Math.ceil(n/u),t=Math.floor(t/u),i=new Array(a=Math.ceil(t-n+1));++o<a;)i[o]=(n+o)*u;else for(n=Math.floor(n*u),t=Math.ceil(t*u),i=new Array(a=Math.ceil(n-t+1));++o<a;)i[o]=(n-o)/u;return e&&i.reverse(),i}(t[0],t[t.length-1],null==n?10:n)},u.tickFormat=function(u,c){var l=o();return function(u,o,c,l){var s,f=function(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),i=e/a;return i>=p?a*=10:i>=g?a*=5:i>=v&&(a*=2),t<n?-a:a}(u,o,c);switch((l=n(null==l?",f":l)).type){case"s":var h=Math.max(Math.abs(u),Math.abs(o));return null!=l.precision||isNaN(s=t(f,h))||(l.precision=s),r(l,h);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(s=e(f,Math.max(Math.abs(u),Math.abs(o))))||(l.precision=s-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(s=a(f))||(l.precision=s-2*("%"===l.type))}return i(l)}(l[0],l[l.length-1],null==u?10:u,c)},u.nice=function(n){null==n&&(n=10);var t,r=o(),e=0,a=r.length-1,i=r[e],c=r[a];return c<i&&(t=i,i=c,c=t,t=e,e=a,a=t),(t=d(i,c,n))>0?t=d(i=Math.floor(i/t)*t,c=Math.ceil(c/t)*t,n):t<0&&(t=d(i=Math.ceil(i*t)/t,c=Math.floor(c*t)/t,n)),t>0?(r[e]=Math.floor(i/t)*t,r[a]=Math.ceil(c/t)*t,o(r)):t<0&&(r[e]=Math.ceil(i*t)/t,r[a]=Math.floor(c*t)/t,o(r)),u},u}function j(){var n,t,r=(n=H,t=H,function(){var n,t,r,e,a,i,l=V,s=V,f=c,h=H;function p(){return e=Math.min(l.length,s.length)>2?O:I,a=i=null,g}function g(t){return isNaN(t=+t)?r:(a||(a=e(l.map(n),s,f)))(n(h(t)))}return g.invert=function(r){return h(t((i||(i=e(s,l.map(n),u)))(r)))},g.domain=function(n){return arguments.length?(l=b.call(n,_),h===H||(h=C(l)),p()):l.slice()},g.range=function(n){return arguments.length?(s=A.call(n),p()):s.slice()},g.rangeRound=function(n){return s=A.call(n),f=o,p()},g.clamp=function(n){return arguments.length?(h=n?C(l):H,g):h!==H},g.interpolate=function(n){return arguments.length?(f=n,p()):f},g.unknown=function(n){return arguments.length?(r=n,g):r},function(r,e){return n=r,t=e,p()}}()(n,t));return r.copy=function(){return n=r,j().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},M.apply(r,arguments),S(r)}var L=Array.prototype.slice;function R(n){return n}var P=1,B=2,D=3,E=4,G=1e-6;function J(n){return"translate("+(n+.5)+",0)"}function K(n){return"translate(0,"+(n+.5)+")"}function Q(){return!this.__axis}function T(n,t){var r=[],e=null,a=null,i=6,u=6,o=3,c=n===P||n===E?-1:1,l=n===E||n===B?"x":"y",s=n===P||n===D?J:K;function f(f){var h=null==e?t.ticks?t.ticks.apply(t,r):t.domain():e,p=null==a?t.tickFormat?t.tickFormat.apply(t,r):R:a,g=Math.max(i,0)+o,v=t.range(),d=+v[0]+.5,m=+v[v.length-1]+.5,M=(t.bandwidth?function(n){var t=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(t=Math.round(t)),function(r){return+n(r)+t}}:function(n){return function(t){return+n(t)}})(t.copy()),y=f.selection?f.selection():f,k=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(h,t).order(),x=w.exit(),N=w.enter().append("g").attr("class","tick"),b=w.select("line"),A=w.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(N),b=b.merge(N.append("line").attr("stroke","currentColor").attr(l+"2",c*i)),A=A.merge(N.append("text").attr("fill","currentColor").attr(l,c*g).attr("dy",n===P?"0em":n===D?"0.71em":"0.32em")),f!==y&&(k=k.transition(f),w=w.transition(f),b=b.transition(f),A=A.transition(f),x=x.transition(f).attr("opacity",G).attr("transform",function(n){return isFinite(n=M(n))?s(n):this.getAttribute("transform")}),N.attr("opacity",G).attr("transform",function(n){var t=this.parentNode.__axis;return s(t&&isFinite(t=t(n))?t:M(n))})),x.remove(),k.attr("d",n===E||n==B?u?"M"+c*u+","+d+"H0.5V"+m+"H"+c*u:"M0.5,"+d+"V"+m:u?"M"+d+","+c*u+"V0.5H"+m+"V"+c*u:"M"+d+",0.5H"+m),w.attr("opacity",1).attr("transform",function(n){return s(M(n))}),b.attr(l+"2",c*i),A.attr(l,c*g).text(p),y.filter(Q).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===B?"start":n===E?"end":"middle"),y.each(function(){this.__axis=M})}return f.scale=function(n){return arguments.length?(t=n,f):t},f.ticks=function(){return r=L.call(arguments),f},f.tickArguments=function(n){return arguments.length?(r=null==n?[]:L.call(n),f):r.slice()},f.tickValues=function(n){return arguments.length?(e=null==n?null:L.call(n),f):e&&e.slice()},f.tickFormat=function(n){return arguments.length?(a=n,f):a},f.tickSize=function(n){return arguments.length?(i=u=+n,f):i},f.tickSizeInner=function(n){return arguments.length?(i=+n,f):i},f.tickSizeOuter=function(n){return arguments.length?(u=+n,f):u},f.tickPadding=function(n){return arguments.length?(o=+n,f):o},f}function U(n){return T(D,n)}function W(n){return T(E,n)}export{j as a,m as b,U as c,W as d,F as e,z as f};